{
  "_from": "orientjs",
  "_id": "orientjs@3.0.0",
  "_inBundle": false,
  "_integrity": "sha512-FiWbju9jOVP9Ub+hb3c9oA/q7HJW/RhUUS+DQrHCM3pioIJ9TvP5ZM8Za+LcEjqwIQ+/Uw+yPzlaQzaSH1mlCw==",
  "_location": "/orientjs",
  "_phantomChildren": {
    "decamelize": "1.2.0",
    "find-up": "2.1.0",
    "get-caller-file": "1.0.3",
    "os-locale": "2.1.0",
    "require-directory": "2.1.1",
    "require-main-filename": "1.0.1",
    "set-blocking": "2.0.0",
    "string-width": "2.1.1",
    "strip-ansi": "4.0.0",
    "which-module": "2.0.0",
    "wrap-ansi": "2.1.0",
    "y18n": "3.2.1",
    "yargs-parser": "9.0.2"
  },
  "_requested": {
    "escapedName": "orientjs",
    "fetchSpec": "latest",
    "name": "orientjs",
    "raw": "orientjs",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/orientjs/-/orientjs-3.0.0.tgz",
  "_shasum": "bbe2f69c12030198e9b07c94886655a9257fb656",
  "_spec": "orientjs",
  "_where": "/home/yunseok/WebstormProjects/webjs",
  "author": {
    "email": "e.risa@orientdb.com",
    "name": "Enrico Risa"
  },
  "bin": {
    "orientjs": "./bin/orientjs"
  },
  "bugs": {
    "url": "https://github.com/orientechnologies/orientjs/issues"
  },
  "bundleDependencies": false,
  "contributors": [
    {
      "name": "Charles Pick",
      "email": "charles@codemix.com"
    },
    {
      "name": "Giraldo Rosales",
      "email": "giraldo@nitrogenlabs.com"
    },
    {
      "name": "Gabriel Petrovay",
      "email": "gabipetrovay@gmail.com"
    },
    {
      "name": "Ryan Fields",
      "email": "ryan.fields@twoleftbeats.com"
    },
    {
      "name": "Federico Fissore",
      "email": "federico@fissore.org"
    },
    {
      "name": "Navin Parray",
      "email": "navinparray@gmail.com"
    },
    {
      "name": "Saeed Tabrizi",
      "email": "saeed@nowcando.com"
    }
  ],
  "dependencies": {
    "bluebird": "~3.5.1",
    "fast.js": "^0.1.1",
    "generic-pool": "^3.1.6",
    "jsdoc": "^3.5.5",
    "node-biginteger": "^0.0.10",
    "orientjs-native": "^2.2.0",
    "parse-function": "^5.2.9",
    "request": "^2.87.0",
    "signed-varint": "2.0.1",
    "tls": "~0.0.1",
    "yargs": "~11.0.0"
  },
  "deprecated": false,
  "description": "Official node.js driver for OrientDB. Fast, lightweight, uses the binary protocol.",
  "devDependencies": {
    "expect.js": "~0.3.1",
    "istanbul": "^0.4.5",
    "istanbul-coveralls": "^1.0.3",
    "jsdoc": "3.5.5",
    "jshint": "~2.9.4",
    "mocha": "^2.0.1",
    "should": "~4.6.2"
  },
  "directories": {
    "lib": "./lib"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "homepage": "https://github.com/orientechnologies/orientjs#readme",
  "keywords": [
    "database",
    "db",
    "driver",
    "graph",
    "graphdb",
    "node",
    "node.js",
    "orient",
    "orientdb"
  ],
  "licenses": [
    {
      "type": "Apache License, Version 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0"
    }
  ],
  "main": "./lib/index.js",
  "name": "orientjs",
  "optionalDependencies": {
    "orientjs-native": "^2.2.0"
  },
  "readme": "# OrientJS driver\n\nOfficial [orientdb](http://www.orientechnologies.com/orientdb/) driver for node.js. Fast, lightweight, uses the binary protocol.\n\n[![Build Status](https://travis-ci.org/orientechnologies/orientjs.svg?branch=master)](https://travis-ci.org/orientechnologies/orientjs)\n[![Coverage Status](https://coveralls.io/repos/github/orientechnologies/orientjs/badge.svg?branch=master)](https://coveralls.io/github/orientechnologies/orientjs?branch=master)\n[![npm version](https://img.shields.io/npm/v/orientjs.svg?style=flat-square)](https://www.npmjs.com/package/orientjs)\n[![npm downloads](https://img.shields.io/npm/dm/orientjs.svg?style=flat-square)](https://www.npmjs.com/package/orientjs)\n\nNOTE: _Release v3.0 provides new APIs in order to support OrientDB 3.0 features_.\n\n# Features\n\n- Tested with latest OrientDB (2.2.x and 3.0.x).\n- Intuitive API, based on [bluebird](https://github.com/petkaantonov/bluebird) promises.\n- Fast binary protocol parser.\n- Streaming Support\n- Stateful Transaction Support\n- Distributed Support\n- Access multiple databases via the same socket (Session Pooling).\n- Connection Pooling\n- Migration support.\n- Simple CLI.\n\n\n# Versions and Compatibility\n\nOrientJS v3.0 contains backwards compatible APIs for OrientDB 2.2.x and OrientDB 3.0.x using the old protocol version 33 ([Legacy](http://orientdb.com/docs/last/orientjs/OrientJS-Legacy.html)). New APIs are shipped in v3.0 to support the new protocol featuring Streaming, Stateful transactions, new SQL engine etc..\n\n\n# Resources\n\n\n- [Documentation](http://orientdb.com/docs/last/orientjs/OrientJS.html)\n<!--- [API Docs](http://orientdb.com/docs/last/orientjs/OrientJS.html)-->\n- [Example Projects](https://github.com/orientechnologies/orientjs-example)\n\n\n# Installation\n\nInstall via npm.\n\n```sh\nnpm install orientjs\n```\n\n# Quick Start\n\n## Connect to OrientDB\n\nUse the `connect` function in order to create a new `OrientDBClient` instance.\n\n```js\nconst OrientDBClient = require(\"orientjs\").OrientDBClient;\n\nOrientDBClient.connect({\n  host: \"localhost\",\n  port: 2424\n}).then(client => {\n  return client.close();\n}).then(()=> {\n   console.log(\"Client closed\");\n});\n```\n\n\n\n### Single Session\n\nTo open a new standalone session use the `client.session` api. This api will create a new stateful session associated with the given database and credentials. Once done, call `session.close` in order to release the session on the server. Session are stateful since OrientJS 3.0 as they can execute server side transactions.\n\n\n```js\nclient.session({ name: \"demodb\", username: \"admin\", password: \"admin\" })\n.then(session => {\n\t// use the session\n\t... \n\t// close the session\n\treturn session.close();\n});\n```\n\n\n\n### Pooled Sessions\n\nOpening and closing sessions everytime can be expensive, since open and close require a network request to the server. Use the API `client.sessions` to create a pool of sessions with a given database and credentials. To get a session from the pool call the api `pool.acquire`. Once done with the session you can return the session to the pool by calling `session.close`\n\n\n```js\n// Create a sessions Pool\nclient.sessions({ name: \"demodb\", username: \"admin\", password: \"admin\", pool: { max: 10} })\n  .then(pool => {\n    // acquire a session\n    return pool.acquire()\n      .then(session => {\n        // use the session\n        ...\n        // release the session\n        return session.close();\n      })\n      .then(() => {\n      \t // close the pool\n        return pool.close();\n      });\n  });\n});\n```\n\n## Session API\n\nOnce obtained a session using the above APIs you can:\n\n- Run a Query (Idempotent SQL statement)\n- Run a Command (Idempotent or non idempotent SQL statement)\n- Run a Transaction\n- Run a live query\n\n\n### Query\n\n\nStreaming\n\n```js\nsession.query(\"select from OUser where name = :name\", {params: { name: \"admin\" }})\n.on(\"data\", data => {\n\tconsole.log(data);\n})\n.on('error',(err)=> {\n  console.log(err);\n})\n.on(\"end\", () => {\n\tconsole.log(\"End of the stream\");\n});\n```\n\n\nor use `.all` API that convert the stream to a Promise and collect the result set into an array\n\n```js\nsession.query(\"select from OUser where name = :name\", { params : {name: \"admin\" }})\n.all()\n.then((results)=> {\n\tconsole.log(results);\n});\n```\n\n### Command\n\n```js\nsession.command(\"insert into V set name = :name\", {params: { name: \"test\" }})\n.all()\n.then(result => {\n\tconsole.log(result);\n});\n```\n\n### Transaction\n\nUse the api session.runInTransaction in order to run a unit of work in a managed transaction (begin/commit/retry)\n\n```js\nsession.runInTransaction((tx)=>{\n\treturn tx.command(\"insert into V set name = :name\", {params: { name: \"test\" }}).all()\n}).then(({result,tx}) => {\n\tconsole.log(result);\n\tconsole.log(tx);\n});\n```\n\n### Live Queries\n\n\n```js\nsession.liveQuery(\"select from V\").on(\"data\", data => {\n\tconsole.log(data);\n});\n```\n\n# Running Tests\n\nTo run the test suite, first invoke the following command within the repo, installing the development dependencies:\n\n```sh\nnpm install\n```\n\nThen run the tests:\n\n```sh\nnpm test\n```\n\n\t\n## History\n\nIn 2012, [Gabriel Petrovay](https://github.com/gabipetrovay) created the original [node-orientdb](https://github.com/gabipetrovay/node-orientdb) library, with a straightforward callback based API.\n\nIn early 2014, [Giraldo Rosales](https://github.com/nitrog7) made a [whole host of improvements](https://github.com/nitrog7/node-orientdb), including support for orientdb 1.7 and switched to a promise based API.\n\nLater in 2014, codemix refactored the library to make it easier to extend and maintain, and introduced an API similar to [nano](https://github.com/dscape/nano). The result is so different from the original codebase that it warranted its own name and npm package. This also gave us the opportunity to switch to semantic versioning.\n\nIn June 2015, Orient Technologies company officially adopted the Oriento driver and renamed it as OrientJS.\n\n### Notes for contributors\n\nPlease see [CONTRIBUTING](./CONTRIBUTING.md).\n\n### Building from the Source Code\n\nWhen building from source code, you need to download the driver directly from [GitHub](https://github.com/orientechnologies/orientjs), then run NPM against the branch you want to use or test.\n\n1. Using Git, clone the package repository, then enter the new directory:\n\n   <pre>\n   $ <code class=\"lang-sh userinput\">git clone https://github.com/orientechnologies/orientjs.git</code>\n   $ <code class=\"lang-sh userinput\">cd orientjs</code>\n   </pre>\n\n2. When you clone the repository, Git automatically provides you with the current state of the `master` branch.  If you would like to work with another branch, like `develop` or test features on past releases, you need to check out the branch you want.  For instance,\n\n   <pre>\n   $ <code class=\"lang-sh userinput\">git checkout develop</code>\n   </pre>\n\n3. Once you've selected the branch you want to build, call NPM to handle the installation.\n\n   <pre>\n   $ <code class=\"lang-sh userinput\">npm install</code>\n   </pre>\n \n4. Run the tests to make sure it works:\n\n   <pre>\n   $ <code class=\"lang-sh userinput\">npm test</code>\n   </pre>\n\n\n### Changes\n\nSee [CHANGELOG](./CHANGELOG.md)\n\n\n\n### License\n\nApache 2.0 License, see [LICENSE](./LICENSE.md)\n\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/orientechnologies/orientjs.git"
  },
  "scripts": {
    "coverage": "./node_modules/istanbul/lib/cli.js cover ./node_modules/mocha/bin/_mocha ./test/index.js ./test/**/*.js ./test/**/**/*.js  ./test/**/**/**/*.js ./test/**/**/**/**/*.js --reporter=spec",
    "docs": "jsdoc -c conf.json --readme README.md",
    "lint": "jshint ./lib",
    "open-docs": "open ./docs/index.html",
    "pretest": "jshint ./lib",
    "test": "echo \"\n\nNOTICE: If tests fail, please ensure you've set the correct credentials in test/test-server.json\n\n\"; node ./node_modules/mocha/bin/mocha ./test/index.js ./test/**/*.js ./test/**/**/*.js ./test/**/**/**/*.js ./test/**/**/**/**/*.js --reporter=spec -t 10000 --exit",
    "watch": "node ./node_modules/mocha/bin/mocha ./test/index.js ./test/**/*.js ./test/**/**/*.js ./test/**/**/**/*.js ./test/**/**/**/**/*.js --reporter=spec -t 10000 --watch"
  },
  "version": "3.0.0"
}
